<!DOCTYPE html><html lang="en"> <head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><title>@manufosela/debounce-throttle</title><meta name="astro-view-transitions-enabled" content="true"><meta name="astro-view-transitions-fallback" content="animate"><style>@import"https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500;600&display=swap";.astro-route-announcer{position:absolute;left:0;top:0;clip:rect(0 0 0 0);clip-path:inset(50%);overflow:hidden;white-space:nowrap;width:1px;height:1px}:root{color-scheme:dark;--bg: #0c0f14;--bg-elevated: #141923;--bg-panel: #171d28;--border: #262f3f;--text: #f4f6fb;--text-muted: #a7b0c2;--text-dim: #7d879b;--accent: #ff8a3d;--accent-strong: #ff6a00;--accent-soft: rgba(255, 138, 61, .16);--shadow: 0 20px 50px rgba(5, 8, 14, .45);--radius-lg: 22px;--radius-md: 14px;--radius-sm: 10px;--max-width: 1160px;--font-sans: "Space Grotesk", "Manrope", "IBM Plex Sans", system-ui, sans-serif;--font-mono: "JetBrains Mono", "IBM Plex Mono", ui-monospace, SFMono-Regular, Menlo, monospace}html.light{color-scheme:light;--bg: #f7f6f2;--bg-elevated: #ffffff;--bg-panel: #fffaf2;--border: #e4dfd6;--text: #1a1c22;--text-muted: #5b6170;--text-dim: #8c92a1;--accent: #ff7a1a;--accent-strong: #ff5c00;--accent-soft: rgba(255, 122, 26, .15);--shadow: 0 16px 40px rgba(19, 20, 26, .15)}*{box-sizing:border-box}body{margin:0;font-family:var(--font-sans);background:radial-gradient(circle at 15% 20%,rgba(255,138,61,.12),transparent 40%),radial-gradient(circle at 85% 0%,rgba(255,106,0,.16),transparent 30%),var(--bg);color:var(--text);min-height:100vh}a{color:inherit;text-decoration:none}a:hover{color:var(--accent)}main{padding:40px 24px 80px}.container{width:100%;max-width:var(--max-width);margin:0 auto}.page-title{font-size:clamp(2.2rem,1.2rem + 3vw,3.4rem);margin:0;color:var(--accent)}.page-subtitle{margin-top:10px;color:var(--text-muted);font-size:1.1rem;max-width:720px}.card-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:22px;margin-top:34px}.card{background:var(--bg-elevated);border:1px solid var(--border);border-radius:var(--radius-lg);padding:22px;min-height:220px;box-shadow:var(--shadow);transition:transform .2s ease,border-color .2s ease,box-shadow .2s ease}.card:hover{transform:translateY(-4px);border-color:#ff8a3d66;box-shadow:0 28px 60px #07090f80}.card h3{margin:0 0 8px;font-size:1.3rem}.card p{margin:0;color:var(--text-muted);line-height:1.5}.tag{display:inline-flex;align-items:center;gap:6px;padding:4px 10px;border-radius:999px;background:var(--accent-soft);color:var(--accent);font-size:.75rem;letter-spacing:.02em}.header-links{display:flex;flex-wrap:wrap;gap:12px;margin-top:16px}.header-links a{display:inline-flex;align-items:center;gap:8px;padding:8px 14px;border-radius:999px;border:1px solid var(--border);background:var(--bg-panel);color:var(--text-muted);font-size:.9rem}.header-links a:hover{border-color:var(--accent);color:var(--text)}.demo-surface{margin-top:28px;background:var(--bg-panel);border:1px solid var(--border);border-radius:var(--radius-lg);padding:28px;box-shadow:var(--shadow)}.demo-embed{display:grid;gap:24px}.code-panel{background:#0b0f16;border-radius:var(--radius-md);padding:16px;border:1px solid rgba(255,138,61,.2);color:#e5e9f2;font-family:var(--font-mono);font-size:.85rem;overflow:auto}footer{border-top:1px solid var(--border);color:var(--text-dim);padding:40px 24px 60px}.topbar{display:flex;justify-content:space-between;align-items:center;gap:16px;padding:24px}.topbar a{font-weight:600}.theme-toggle{border:1px solid var(--border);background:var(--bg-panel);color:var(--text);border-radius:999px;padding:8px 14px;cursor:pointer;font-size:.85rem}.code-label{margin:24px 0 10px;color:var(--text-muted);font-size:.75rem;letter-spacing:.12em;text-transform:uppercase}.code-details{margin-top:24px;border:1px solid var(--border);border-radius:var(--radius-md);padding:10px 14px;background:var(--bg-elevated)}.code-details summary{cursor:pointer;color:var(--accent);font-weight:600;letter-spacing:.02em}.code-details[open] summary{margin-bottom:12px}
</style><script type="module" src="/utils/_astro/hoisted.BScVxmeO.js"></script></head> <body> <header class="topbar"> <a href="/">@manufosela/debounce-throttle</a> <div class="header-links">  <button class="theme-toggle" type="button" data-theme-toggle>Light mode</button> <script type="module">
  const root = document.documentElement;
  const toggle = document.querySelector('[data-theme-toggle]');
  const stored = localStorage.getItem('theme');

  if (stored === 'light') {
    root.classList.add('light');
  }

  const updateLabel = () => {
    const isLight = root.classList.contains('light');
    toggle.textContent = isLight ? 'Dark mode' : 'Light mode';
  };

  updateLabel();

  toggle.addEventListener('click', () => {
    root.classList.toggle('light');
    localStorage.setItem('theme', root.classList.contains('light') ? 'light' : 'dark');
    updateLabel();
  });
</script> </div> </header> <main> <div class="container">  <div> <h1 class="page-title">@manufosela/debounce-throttle</h1> <p class="page-subtitle">Debounce and throttle utility functions with leading, trailing, and maxWait options</p> <div class="header-links"> <a href="/utils/">‚Üê Back to components</a><a href="https://github.com/manufosela/utils">GitHub Repo</a> </div> </div> <div class="demo-surface"> <div><style>




    * {
      box-sizing: border-box;
    }

    h1 {
      color: var(--accent);
      margin-bottom: 0.5rem;
    }

    .subtitle {
      color: var(--text-muted);
      margin-bottom: 2rem;
    }

    .top-links {
      display: flex;
      gap: 0.5rem;
      flex-wrap: wrap;
      margin-bottom: 1rem;
    }

    .top-links a {
      font-size: 0.8rem;
      color: var(--text-muted);
      text-decoration: none;
      border: 1px solid var(--border);
      padding: 0.35rem 0.75rem;
      border-radius: 999px;
    }

    .section {
      background: var(--bg-elevated);
      border-radius: 8px;
      padding: 1.5rem;
      margin-bottom: 1.5rem;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }

    .section h2 {
      margin: 0 0 1rem;
      color: var(--text);
      font-size: 1.25rem;
    }

    .demo-row {
      display: grid;
      grid-template-columns: 200px 1fr;
      gap: 1rem;
      align-items: start;
      margin-bottom: 1rem;
    }

    .demo-controls {
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
    }

    .demo-controls label {
      font-size: 0.875rem;
      color: var(--text-muted);
    }

    .demo-controls input[type="range"] {
      width: 100%;
    }

    .demo-controls input[type="text"] {
      padding: 0.5rem;
      border: 1px solid var(--border);
      border-radius: 4px;
      width: 100%;
    }

    .event-log {
      background: var(--bg-panel);
      color: var(--text);
      border-radius: 4px;
      padding: 1rem;
      font-family: monospace;
      font-size: 0.875rem;
      height: 150px;
      overflow-y: auto;
    }

    .event-log .raw {
      color: #f14c4c;
    }

    .event-log .processed {
      color: #4ec9b0;
    }

    .event-log .time {
      color: var(--text-dim);
    }

    .stats {
      display: flex;
      gap: 2rem;
      margin-top: 1rem;
      padding-top: 1rem;
      border-top: 1px solid var(--border);
    }

    .stat {
      text-align: center;
    }

    .stat-value {
      font-size: 2rem;
      font-weight: bold;
      color: var(--text);
    }

    .stat-label {
      font-size: 0.75rem;
      color: var(--text-muted);
      text-transform: uppercase;
    }

    .stat-value.raw {
      color: #f14c4c;
    }

    .stat-value.processed {
      color: #4ec9b0;
    }

    button {
      padding: 0.5rem 1rem;
      background: var(--accent);
      color: white;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      font-size: 0.875rem;
    }

    button:hover {
      background: var(--accent-strong);
    }

    .button-group {
      display: flex;
      gap: 0.5rem;
      margin-top: 0.5rem;
    }

    .scroll-area {
      height: 100px;
      overflow-y: auto;
      background: var(--bg-panel);
      border: 1px solid var(--border);
      border-radius: 4px;
      padding: 1rem;
    }

    .scroll-content {
      height: 500px;
      background: linear-gradient(to bottom, var(--bg-panel), #1f2937, #273449, #2e3c55, #334155);
    }

    .resize-area {
      resize: both;
      overflow: auto;
      min-width: 200px;
      min-height: 80px;
      max-width: 100%;
      background: var(--bg-panel);
      border: 1px solid var(--border);
      border-radius: 4px;
      padding: 1rem;
      display: flex;
      align-items: center;
      justify-content: center;
      color: var(--text-muted);
    }

    .code-block {
      background: #0b0f1a;
      border: 1px solid #2b3247;
      border-radius: 8px;
      padding: 12px;
      color: #d6d9e6;
      font-family: "JetBrains Mono", "Courier New", monospace;
      font-size: 0.85rem;
      white-space: pre-wrap;
      word-break: break-word;
    }
  



</style>

:root {
  --bg: #0f1117;
  --bg-2: #151a26;
  --bg-spot-1: #1a2136;
  --bg-spot-2: #1d1b34;
  --card: #1c2233;
  --text: #f3f6ff;
  --muted: #b8c0d9;
  --line: #2b3247;
  --accent: #ffb000;
  --accent-2: #00d0ff;
  --surface: #0b0f1a;
  --code-bg: #0b0f1a;
  --code-text: #d6d9e6;
}

:root.light {
  --bg: #f5f5f7;
  --bg-2: #ffffff;
  --bg-spot-1: #f8e9d0;
  --bg-spot-2: #e8eef8;
  --card: #ffffff;
  --text: #1d1d1f;
  --muted: #6b7280;
  --line: #e5e7eb;
  --accent: #ffb000;
  --accent-2: #00a7d6;
  --surface: #f3f4f6;
  --code-bg: #111827;
  --code-text: #f9fafb;
}

:root.dark {
  --bg: #0f1117;
  --bg-2: #151a26;
  --bg-spot-1: #1a2136;
  --bg-spot-2: #1d1b34;
  --card: #1c2233;
  --text: #f3f6ff;
  --muted: #b8c0d9;
  --line: #2b3247;
  --accent: #ffb000;
  --accent-2: #00d0ff;
  --surface: #0b0f1a;
  --code-bg: #0b0f1a;
  --code-text: #d6d9e6;
}

h1 {
  color: var(--accent) !important;
}

.top-links a,
.topbar a {
  color: var(--muted) !important;
  border-color: var(--line) !important;
}

.top-links a:hover,
.topbar a:hover {
  color: var(--text) !important;
}

.card,
.section,
.demo-section,
.panel {
  background: var(--card) !important;
  border-color: var(--line) !important;
  color: var(--text) !important;
}

.code-block,
pre,
code,
.output,
.current-url,
.event-log,
.result-card,
.log {
  background: var(--code-bg) !important;
  color: var(--code-text) !important;
  border-color: var(--line) !important;
}

input,
select,
textarea {
  background: var(--surface) !important;
  color: var(--text) !important;
  border-color: var(--line) !important;
}

button {
  background: linear-gradient(120deg, var(--accent), #ff6a00) !important;
  color: #111 !important;
}

footer {
  color: var(--muted) !important;
}

footer a {
  color: var(--text) !important;
}</div><div class="demo-embed"><div class="top-links">
    <a href="https://manufosela.github.io/utils/">Utils catalog</a>
    <a href="https://manufosela.github.io/">Main catalog</a>
    <a href="https://github.com/manufosela/utils/tree/main/packages/debounce-throttle">Source</a>
  </div>
        <demo-theme-toggle></demo-theme-toggle>
  <h1>debounce-throttle</h1>
  <p class="subtitle">Debounce, throttle, and rate-limit utilities in action.</p>

  <div class="section">
    <h2>Quick usage</h2>
    <pre class="code-block"><code>import { debounce, throttle } from '@manufosela/debounce-throttle';

const debounced = debounce(onInput, 300);
const throttled = throttle(onScroll, 200);
</code></pre>
  </div>

  <!-- Debounce Demo -->
  <div class="section">
    <h2>Debounce - Search Input</h2>
    <p style="color: var(--text-muted); font-size: 0.875rem; margin-bottom: 1rem;">
      Type in the input and see how debounce delays the API call until you stop typing.
    </p>
    <div class="demo-row">
      <div class="demo-controls">
        <label>Delay: <span id="debounceDelayValue">300</span>ms</label>
        <input type="range" id="debounceDelay" min="100" max="1000" value="300" step="100">
        <input type="text" id="searchInput" placeholder="Type to search...">
      </div>
      <div class="event-log" id="debounceLog"></div>
    </div>
    <div class="stats">
      <div class="stat">
        <div class="stat-value raw" id="debounceRawCount">0</div>
        <div class="stat-label">Keystrokes</div>
      </div>
      <div class="stat">
        <div class="stat-value processed" id="debounceProcessedCount">0</div>
        <div class="stat-label">API Calls</div>
      </div>
      <div class="stat">
        <div class="stat-value" id="debounceSavings">0%</div>
        <div class="stat-label">Calls Saved</div>
      </div>
    </div>
    <pre class="code-block"><code>import { debounce } from '@manufosela/debounce-throttle';

const debouncedSearch = debounce((value) => {
  fetch(`/api/search?q=${value}`);
}, 300);

input.addEventListener('input', (e) => {
  debouncedSearch(e.target.value);
});
</code></pre>
  </div>

  <!-- Throttle Demo -->
  <div class="section">
    <h2>Throttle - Scroll Handler</h2>
    <p style="color: var(--text-muted); font-size: 0.875rem; margin-bottom: 1rem;">
      Scroll inside the box and see how throttle limits the handler calls.
    </p>
    <div class="demo-row">
      <div class="demo-controls">
        <label>Limit: <span id="throttleLimitValue">100</span>ms</label>
        <input type="range" id="throttleLimit" min="50" max="500" value="100" step="50">
        <div class="scroll-area" id="scrollArea">
          <div class="scroll-content"></div>
        </div>
      </div>
      <div class="event-log" id="throttleLog"></div>
    </div>
    <div class="stats">
      <div class="stat">
        <div class="stat-value raw" id="throttleRawCount">0</div>
        <div class="stat-label">Scroll Events</div>
      </div>
      <div class="stat">
        <div class="stat-value processed" id="throttleProcessedCount">0</div>
        <div class="stat-label">Handler Calls</div>
      </div>
      <div class="stat">
        <div class="stat-value" id="throttleSavings">0%</div>
        <div class="stat-label">Calls Saved</div>
      </div>
    </div>
    <pre class="code-block"><code>import { throttle } from '@manufosela/debounce-throttle';

const onScroll = throttle(() => {
  console.log('scroll tick');
}, 100);

scrollArea.addEventListener('scroll', onScroll);
</code></pre>
  </div>

  <!-- Once Demo -->
  <div class="section">
    <h2>Once - Single Initialization</h2>
    <p style="color: var(--text-muted); font-size: 0.875rem; margin-bottom: 1rem;">
      Click the button multiple times - the function only executes once.
    </p>
    <div class="button-group">
      <button id="onceButton">Initialize (click multiple times)</button>
      <button id="onceReset">Reset</button>
    </div>
    <div class="event-log" id="onceLog" style="height: 100px; margin-top: 1rem;"></div>
    <pre class="code-block"><code>import { once } from '@manufosela/debounce-throttle';

const initOnce = once(() => {
  initWidget();
});

button.addEventListener('click', initOnce);
</code></pre>
  </div>

  <!-- Rate Limit Demo -->
  <div class="section">
    <h2>Rate Limit - API Calls</h2>
    <p style="color: var(--text-muted); font-size: 0.875rem; margin-bottom: 1rem;">
      Limited to 5 calls per 3 seconds. Click rapidly to see rate limiting in action.
    </p>
    <div class="button-group">
      <button id="rateLimitButton">Call API</button>
    </div>
    <div class="event-log" id="rateLimitLog" style="height: 150px; margin-top: 1rem;"></div>
    <div class="stats">
      <div class="stat">
        <div class="stat-value raw" id="rateLimitAttempts">0</div>
        <div class="stat-label">Attempts</div>
      </div>
      <div class="stat">
        <div class="stat-value processed" id="rateLimitSuccess">0</div>
        <div class="stat-label">Successful</div>
      </div>
      <div class="stat">
        <div class="stat-value" id="rateLimitBlocked">0</div>
        <div class="stat-label">Blocked</div>
      </div>
    </div>
    <pre class="code-block"><code>import { rateLimit } from '@manufosela/debounce-throttle';

const limitedCall = rateLimit(() => {
  callApi();
}, 5, 3000);

button.addEventListener('click', limitedCall);
</code></pre>
  </div></div> <div><script type="module">
    import { debounce, throttle, once, rateLimit } from "https://esm.sh/@manufosela/debounce-throttle";

    // Helper to format time
    function formatTime() {
      const now = new Date();
      return `${now.getMinutes().toString().padStart(2, '0')}:${now.getSeconds().toString().padStart(2, '0')}.${now.getMilliseconds().toString().padStart(3, '0')}`;
    }

    // Helper to add log entry
    function addLog(logId, message, type = 'raw') {
      const log = document.getElementById(logId);
      const entry = document.createElement('div');
      entry.innerHTML = `<span class="time">[${formatTime()}]</span> <span class="${type}">${message}</span>`;
      log.appendChild(entry);
      log.scrollTop = log.scrollHeight;
    }

    // ============ Debounce Demo ============
    let debounceRawCount = 0;
    let debounceProcessedCount = 0;
    let currentDebouncedSearch;

    function createDebouncedSearch(delay) {
      return debounce((value) => {
        debounceProcessedCount++;
        document.getElementById('debounceProcessedCount').textContent = debounceProcessedCount;
        addLog('debounceLog', `API call with: "${value}"`, 'processed');
        updateDebounceSavings();
      }, delay);
    }

    currentDebouncedSearch = createDebouncedSearch(300);

    document.getElementById('searchInput').addEventListener('input', (e) => {
      debounceRawCount++;
      document.getElementById('debounceRawCount').textContent = debounceRawCount;
      addLog('debounceLog', `Keystroke: "${e.target.value}"`, 'raw');
      currentDebouncedSearch(e.target.value);
      updateDebounceSavings();
    });

    document.getElementById('debounceDelay').addEventListener('input', (e) => {
      document.getElementById('debounceDelayValue').textContent = e.target.value;
      currentDebouncedSearch.cancel();
      currentDebouncedSearch = createDebouncedSearch(parseInt(e.target.value));
    });

    function updateDebounceSavings() {
      const savings = debounceRawCount > 0
        ? Math.round((1 - debounceProcessedCount / debounceRawCount) * 100)
        : 0;
      document.getElementById('debounceSavings').textContent = `${savings}%`;
    }

    // ============ Throttle Demo ============
    let throttleRawCount = 0;
    let throttleProcessedCount = 0;
    let currentThrottledScroll;

    function createThrottledScroll(limit) {
      return throttle((scrollTop) => {
        throttleProcessedCount++;
        document.getElementById('throttleProcessedCount').textContent = throttleProcessedCount;
        addLog('throttleLog', `Handler: scrollTop = ${scrollTop}px`, 'processed');
        updateThrottleSavings();
      }, limit);
    }

    currentThrottledScroll = createThrottledScroll(100);

    document.getElementById('scrollArea').addEventListener('scroll', (e) => {
      throttleRawCount++;
      document.getElementById('throttleRawCount').textContent = throttleRawCount;
      addLog('throttleLog', `Scroll event: ${e.target.scrollTop}px`, 'raw');
      currentThrottledScroll(e.target.scrollTop);
      updateThrottleSavings();
    });

    document.getElementById('throttleLimit').addEventListener('input', (e) => {
      document.getElementById('throttleLimitValue').textContent = e.target.value;
      currentThrottledScroll.cancel();
      currentThrottledScroll = createThrottledScroll(parseInt(e.target.value));
    });

    function updateThrottleSavings() {
      const savings = throttleRawCount > 0
        ? Math.round((1 - throttleProcessedCount / throttleRawCount) * 100)
        : 0;
      document.getElementById('throttleSavings').textContent = `${savings}%`;
    }

    // ============ Once Demo ============
    let createOnceFunction;

    function setupOnceDemo() {
      createOnceFunction = once(() => {
        addLog('onceLog', 'Function executed! This only happens once.', 'processed');
        return 'initialized';
      });
    }

    setupOnceDemo();

    document.getElementById('onceButton').addEventListener('click', () => {
      addLog('onceLog', 'Button clicked', 'raw');
      const result = createOnceFunction();
      if (result) {
        addLog('onceLog', `Returned: "${result}"`, 'processed');
      }
    });

    document.getElementById('onceReset').addEventListener('click', () => {
      document.getElementById('onceLog').innerHTML = '';
      setupOnceDemo();
      addLog('onceLog', 'Demo reset', 'processed');
    });

    // ============ Rate Limit Demo ============
    let rateLimitAttempts = 0;
    let rateLimitSuccess = 0;
    let rateLimitBlocked = 0;

    const rateLimitedApi = rateLimit(() => {
      rateLimitSuccess++;
      document.getElementById('rateLimitSuccess').textContent = rateLimitSuccess;
      addLog('rateLimitLog', 'API call successful', 'processed');
      return true;
    }, 5, 3000);

    document.getElementById('rateLimitButton').addEventListener('click', () => {
      rateLimitAttempts++;
      document.getElementById('rateLimitAttempts').textContent = rateLimitAttempts;
      addLog('rateLimitLog', 'Attempting API call...', 'raw');

      const result = rateLimitedApi();
      if (result === undefined) {
        rateLimitBlocked++;
        document.getElementById('rateLimitBlocked').textContent = rateLimitBlocked;
        addLog('rateLimitLog', 'BLOCKED - Rate limit exceeded (5 per 3s)', 'raw');
      }
    });
  </script>
<script type="module">
class DemoThemeToggle extends HTMLElement {
  constructor() {
    super();
    this.attachShadow({ mode: 'open' });
    this.handleClick = this.handleClick.bind(this);
  }

  connectedCallback() {
    const saved = localStorage.getItem('utils-demo-theme');
    document.documentElement.classList.remove('dark');
    document.documentElement.classList.toggle('light', saved === 'light');

    this.render();
  }

  render() {
    const isLight = document.documentElement.classList.contains('light');
    this.shadowRoot.innerHTML = `
      <style>
        :host {
          display: inline-flex;
        }
        .toggle {
          display: inline-flex;
          align-items: center;
          border: 1px solid var(--line);
          border-radius: 999px;
          overflow: hidden;
          background: var(--surface);
        }
        button {
          border: none;
          background: transparent;
          color: var(--muted);
          padding: 6px 12px;
          font-size: 0.8rem;
          cursor: pointer;
          font-family: "Space Grotesk", "Trebuchet MS", Arial, sans-serif;
        }
        button.active {
          background: linear-gradient(120deg, var(--accent), #ff6a00);
          color: #111;
          font-weight: 600;
        }
      </style>
      <div class="toggle" role="group" aria-label="Theme toggle">
        <button class="${isLight ? 'active' : ''}" data-theme="light">Light</button>
        <button class="${isLight ? '' : 'active'}" data-theme="dark">Dark</button>
      </div>
    `;

    this.shadowRoot.querySelectorAll('button').forEach((btn) => {
      btn.addEventListener('click', this.handleClick);
    });
  }

  handleClick(event) {
    const theme = event.currentTarget.dataset.theme;
    const isLight = theme === 'light';
    document.documentElement.classList.toggle('light', isLight);
    document.documentElement.classList.remove('dark');
    localStorage.setItem('utils-demo-theme', isLight ? 'light' : 'dark');
    this.render();
  }
}

customElements.define('demo-theme-toggle', DemoThemeToggle);

</script></div><details class="code-details"> <summary>Demo code (CodePen-ready HTML, CSS, JS)</summary> <div> <div class="code-label">HTML (html)</div> <pre class="code-panel"><code>&lt;div class=&quot;top-links&quot;&gt;
    &lt;a href=&quot;https://manufosela.github.io/utils/&quot;&gt;Utils catalog&lt;/a&gt;
    &lt;a href=&quot;https://manufosela.github.io/&quot;&gt;Main catalog&lt;/a&gt;
    &lt;a href=&quot;https://github.com/manufosela/utils/tree/main/packages/debounce-throttle&quot;&gt;Source&lt;/a&gt;
  &lt;/div&gt;
        &lt;demo-theme-toggle&gt;&lt;/demo-theme-toggle&gt;
  &lt;h1&gt;debounce-throttle&lt;/h1&gt;
  &lt;p class=&quot;subtitle&quot;&gt;Debounce, throttle, and rate-limit utilities in action.&lt;/p&gt;

  &lt;div class=&quot;section&quot;&gt;
    &lt;h2&gt;Quick usage&lt;/h2&gt;
    &lt;pre class=&quot;code-block&quot;&gt;&lt;code&gt;import { debounce, throttle } from &#39;@manufosela/debounce-throttle&#39;;

const debounced = debounce(onInput, 300);
const throttled = throttle(onScroll, 200);
&lt;/code&gt;&lt;/pre&gt;
  &lt;/div&gt;

  &lt;!-- Debounce Demo --&gt;
  &lt;div class=&quot;section&quot;&gt;
    &lt;h2&gt;Debounce - Search Input&lt;/h2&gt;
    &lt;p style=&quot;color: var(--text-muted); font-size: 0.875rem; margin-bottom: 1rem;&quot;&gt;
      Type in the input and see how debounce delays the API call until you stop typing.
    &lt;/p&gt;
    &lt;div class=&quot;demo-row&quot;&gt;
      &lt;div class=&quot;demo-controls&quot;&gt;
        &lt;label&gt;Delay: &lt;span id=&quot;debounceDelayValue&quot;&gt;300&lt;/span&gt;ms&lt;/label&gt;
        &lt;input type=&quot;range&quot; id=&quot;debounceDelay&quot; min=&quot;100&quot; max=&quot;1000&quot; value=&quot;300&quot; step=&quot;100&quot;&gt;
        &lt;input type=&quot;text&quot; id=&quot;searchInput&quot; placeholder=&quot;Type to search...&quot;&gt;
      &lt;/div&gt;
      &lt;div class=&quot;event-log&quot; id=&quot;debounceLog&quot;&gt;&lt;/div&gt;
    &lt;/div&gt;
    &lt;div class=&quot;stats&quot;&gt;
      &lt;div class=&quot;stat&quot;&gt;
        &lt;div class=&quot;stat-value raw&quot; id=&quot;debounceRawCount&quot;&gt;0&lt;/div&gt;
        &lt;div class=&quot;stat-label&quot;&gt;Keystrokes&lt;/div&gt;
      &lt;/div&gt;
      &lt;div class=&quot;stat&quot;&gt;
        &lt;div class=&quot;stat-value processed&quot; id=&quot;debounceProcessedCount&quot;&gt;0&lt;/div&gt;
        &lt;div class=&quot;stat-label&quot;&gt;API Calls&lt;/div&gt;
      &lt;/div&gt;
      &lt;div class=&quot;stat&quot;&gt;
        &lt;div class=&quot;stat-value&quot; id=&quot;debounceSavings&quot;&gt;0%&lt;/div&gt;
        &lt;div class=&quot;stat-label&quot;&gt;Calls Saved&lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;pre class=&quot;code-block&quot;&gt;&lt;code&gt;import { debounce } from &#39;@manufosela/debounce-throttle&#39;;

const debouncedSearch = debounce((value) =&gt; {
  fetch(`/api/search?q=${value}`);
}, 300);

input.addEventListener(&#39;input&#39;, (e) =&gt; {
  debouncedSearch(e.target.value);
});
&lt;/code&gt;&lt;/pre&gt;
  &lt;/div&gt;

  &lt;!-- Throttle Demo --&gt;
  &lt;div class=&quot;section&quot;&gt;
    &lt;h2&gt;Throttle - Scroll Handler&lt;/h2&gt;
    &lt;p style=&quot;color: var(--text-muted); font-size: 0.875rem; margin-bottom: 1rem;&quot;&gt;
      Scroll inside the box and see how throttle limits the handler calls.
    &lt;/p&gt;
    &lt;div class=&quot;demo-row&quot;&gt;
      &lt;div class=&quot;demo-controls&quot;&gt;
        &lt;label&gt;Limit: &lt;span id=&quot;throttleLimitValue&quot;&gt;100&lt;/span&gt;ms&lt;/label&gt;
        &lt;input type=&quot;range&quot; id=&quot;throttleLimit&quot; min=&quot;50&quot; max=&quot;500&quot; value=&quot;100&quot; step=&quot;50&quot;&gt;
        &lt;div class=&quot;scroll-area&quot; id=&quot;scrollArea&quot;&gt;
          &lt;div class=&quot;scroll-content&quot;&gt;&lt;/div&gt;
        &lt;/div&gt;
      &lt;/div&gt;
      &lt;div class=&quot;event-log&quot; id=&quot;throttleLog&quot;&gt;&lt;/div&gt;
    &lt;/div&gt;
    &lt;div class=&quot;stats&quot;&gt;
      &lt;div class=&quot;stat&quot;&gt;
        &lt;div class=&quot;stat-value raw&quot; id=&quot;throttleRawCount&quot;&gt;0&lt;/div&gt;
        &lt;div class=&quot;stat-label&quot;&gt;Scroll Events&lt;/div&gt;
      &lt;/div&gt;
      &lt;div class=&quot;stat&quot;&gt;
        &lt;div class=&quot;stat-value processed&quot; id=&quot;throttleProcessedCount&quot;&gt;0&lt;/div&gt;
        &lt;div class=&quot;stat-label&quot;&gt;Handler Calls&lt;/div&gt;
      &lt;/div&gt;
      &lt;div class=&quot;stat&quot;&gt;
        &lt;div class=&quot;stat-value&quot; id=&quot;throttleSavings&quot;&gt;0%&lt;/div&gt;
        &lt;div class=&quot;stat-label&quot;&gt;Calls Saved&lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;pre class=&quot;code-block&quot;&gt;&lt;code&gt;import { throttle } from &#39;@manufosela/debounce-throttle&#39;;

const onScroll = throttle(() =&gt; {
  console.log(&#39;scroll tick&#39;);
}, 100);

scrollArea.addEventListener(&#39;scroll&#39;, onScroll);
&lt;/code&gt;&lt;/pre&gt;
  &lt;/div&gt;

  &lt;!-- Once Demo --&gt;
  &lt;div class=&quot;section&quot;&gt;
    &lt;h2&gt;Once - Single Initialization&lt;/h2&gt;
    &lt;p style=&quot;color: var(--text-muted); font-size: 0.875rem; margin-bottom: 1rem;&quot;&gt;
      Click the button multiple times - the function only executes once.
    &lt;/p&gt;
    &lt;div class=&quot;button-group&quot;&gt;
      &lt;button id=&quot;onceButton&quot;&gt;Initialize (click multiple times)&lt;/button&gt;
      &lt;button id=&quot;onceReset&quot;&gt;Reset&lt;/button&gt;
    &lt;/div&gt;
    &lt;div class=&quot;event-log&quot; id=&quot;onceLog&quot; style=&quot;height: 100px; margin-top: 1rem;&quot;&gt;&lt;/div&gt;
    &lt;pre class=&quot;code-block&quot;&gt;&lt;code&gt;import { once } from &#39;@manufosela/debounce-throttle&#39;;

const initOnce = once(() =&gt; {
  initWidget();
});

button.addEventListener(&#39;click&#39;, initOnce);
&lt;/code&gt;&lt;/pre&gt;
  &lt;/div&gt;

  &lt;!-- Rate Limit Demo --&gt;
  &lt;div class=&quot;section&quot;&gt;
    &lt;h2&gt;Rate Limit - API Calls&lt;/h2&gt;
    &lt;p style=&quot;color: var(--text-muted); font-size: 0.875rem; margin-bottom: 1rem;&quot;&gt;
      Limited to 5 calls per 3 seconds. Click rapidly to see rate limiting in action.
    &lt;/p&gt;
    &lt;div class=&quot;button-group&quot;&gt;
      &lt;button id=&quot;rateLimitButton&quot;&gt;Call API&lt;/button&gt;
    &lt;/div&gt;
    &lt;div class=&quot;event-log&quot; id=&quot;rateLimitLog&quot; style=&quot;height: 150px; margin-top: 1rem;&quot;&gt;&lt;/div&gt;
    &lt;div class=&quot;stats&quot;&gt;
      &lt;div class=&quot;stat&quot;&gt;
        &lt;div class=&quot;stat-value raw&quot; id=&quot;rateLimitAttempts&quot;&gt;0&lt;/div&gt;
        &lt;div class=&quot;stat-label&quot;&gt;Attempts&lt;/div&gt;
      &lt;/div&gt;
      &lt;div class=&quot;stat&quot;&gt;
        &lt;div class=&quot;stat-value processed&quot; id=&quot;rateLimitSuccess&quot;&gt;0&lt;/div&gt;
        &lt;div class=&quot;stat-label&quot;&gt;Successful&lt;/div&gt;
      &lt;/div&gt;
      &lt;div class=&quot;stat&quot;&gt;
        &lt;div class=&quot;stat-value&quot; id=&quot;rateLimitBlocked&quot;&gt;0&lt;/div&gt;
        &lt;div class=&quot;stat-label&quot;&gt;Blocked&lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;pre class=&quot;code-block&quot;&gt;&lt;code&gt;import { rateLimit } from &#39;@manufosela/debounce-throttle&#39;;

const limitedCall = rateLimit(() =&gt; {
  callApi();
}, 5, 3000);

button.addEventListener(&#39;click&#39;, limitedCall);
&lt;/code&gt;&lt;/pre&gt;
  &lt;/div&gt;</code></pre> </div> <div> <div class="code-label">CSS (css)</div> <pre class="code-panel"><code>:root {
  --bg: #0c0f14;
  --bg-elevated: #141923;
  --bg-panel: #171d28;
  --border: #262f3f;
  --text: #f4f6fb;
  --text-muted: #a7b0c2;
  --text-dim: #7d879b;
  --accent: #ff8a3d;
  --accent-strong: #ff6a00;
  --accent-soft: rgba(255, 138, 61, 0.16);
  --shadow: 0 20px 50px rgba(5, 8, 14, 0.45);
  --radius-lg: 22px;
  --radius-md: 14px;
  --radius-sm: 10px;
  --max-width: 1160px;
}

* {
      box-sizing: border-box;
    }

    h1 {
      color: var(--accent);
      margin-bottom: 0.5rem;
    }

    .subtitle {
      color: var(--text-muted);
      margin-bottom: 2rem;
    }

    .top-links {
      display: flex;
      gap: 0.5rem;
      flex-wrap: wrap;
      margin-bottom: 1rem;
    }

    .top-links a {
      font-size: 0.8rem;
      color: var(--text-muted);
      text-decoration: none;
      border: 1px solid var(--border);
      padding: 0.35rem 0.75rem;
      border-radius: 999px;
    }

    .section {
      background: var(--bg-elevated);
      border-radius: 8px;
      padding: 1.5rem;
      margin-bottom: 1.5rem;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }

    .section h2 {
      margin: 0 0 1rem;
      color: var(--text);
      font-size: 1.25rem;
    }

    .demo-row {
      display: grid;
      grid-template-columns: 200px 1fr;
      gap: 1rem;
      align-items: start;
      margin-bottom: 1rem;
    }

    .demo-controls {
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
    }

    .demo-controls label {
      font-size: 0.875rem;
      color: var(--text-muted);
    }

    .demo-controls input[type=&quot;range&quot;] {
      width: 100%;
    }

    .demo-controls input[type=&quot;text&quot;] {
      padding: 0.5rem;
      border: 1px solid var(--border);
      border-radius: 4px;
      width: 100%;
    }

    .event-log {
      background: var(--bg-panel);
      color: var(--text);
      border-radius: 4px;
      padding: 1rem;
      font-family: monospace;
      font-size: 0.875rem;
      height: 150px;
      overflow-y: auto;
    }

    .event-log .raw {
      color: #f14c4c;
    }

    .event-log .processed {
      color: #4ec9b0;
    }

    .event-log .time {
      color: var(--text-dim);
    }

    .stats {
      display: flex;
      gap: 2rem;
      margin-top: 1rem;
      padding-top: 1rem;
      border-top: 1px solid var(--border);
    }

    .stat {
      text-align: center;
    }

    .stat-value {
      font-size: 2rem;
      font-weight: bold;
      color: var(--text);
    }

    .stat-label {
      font-size: 0.75rem;
      color: var(--text-muted);
      text-transform: uppercase;
    }

    .stat-value.raw {
      color: #f14c4c;
    }

    .stat-value.processed {
      color: #4ec9b0;
    }

    button {
      padding: 0.5rem 1rem;
      background: var(--accent);
      color: white;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      font-size: 0.875rem;
    }

    button:hover {
      background: var(--accent-strong);
    }

    .button-group {
      display: flex;
      gap: 0.5rem;
      margin-top: 0.5rem;
    }

    .scroll-area {
      height: 100px;
      overflow-y: auto;
      background: var(--bg-panel);
      border: 1px solid var(--border);
      border-radius: 4px;
      padding: 1rem;
    }

    .scroll-content {
      height: 500px;
      background: linear-gradient(to bottom, var(--bg-panel), #1f2937, #273449, #2e3c55, #334155);
    }

    .resize-area {
      resize: both;
      overflow: auto;
      min-width: 200px;
      min-height: 80px;
      max-width: 100%;
      background: var(--bg-panel);
      border: 1px solid var(--border);
      border-radius: 4px;
      padding: 1rem;
      display: flex;
      align-items: center;
      justify-content: center;
      color: var(--text-muted);
    }

    .code-block {
      background: #0b0f1a;
      border: 1px solid #2b3247;
      border-radius: 8px;
      padding: 12px;
      color: #d6d9e6;
      font-family: &quot;JetBrains Mono&quot;, &quot;Courier New&quot;, monospace;
      font-size: 0.85rem;
      white-space: pre-wrap;
      word-break: break-word;
    }
  





:root {
  --bg: #0f1117;
  --bg-2: #151a26;
  --bg-spot-1: #1a2136;
  --bg-spot-2: #1d1b34;
  --card: #1c2233;
  --text: #f3f6ff;
  --muted: #b8c0d9;
  --line: #2b3247;
  --accent: #ffb000;
  --accent-2: #00d0ff;
  --surface: #0b0f1a;
  --code-bg: #0b0f1a;
  --code-text: #d6d9e6;
}

:root.light {
  --bg: #f5f5f7;
  --bg-2: #ffffff;
  --bg-spot-1: #f8e9d0;
  --bg-spot-2: #e8eef8;
  --card: #ffffff;
  --text: #1d1d1f;
  --muted: #6b7280;
  --line: #e5e7eb;
  --accent: #ffb000;
  --accent-2: #00a7d6;
  --surface: #f3f4f6;
  --code-bg: #111827;
  --code-text: #f9fafb;
}

:root.dark {
  --bg: #0f1117;
  --bg-2: #151a26;
  --bg-spot-1: #1a2136;
  --bg-spot-2: #1d1b34;
  --card: #1c2233;
  --text: #f3f6ff;
  --muted: #b8c0d9;
  --line: #2b3247;
  --accent: #ffb000;
  --accent-2: #00d0ff;
  --surface: #0b0f1a;
  --code-bg: #0b0f1a;
  --code-text: #d6d9e6;
}

h1 {
  color: var(--accent) !important;
}

.top-links a,
.topbar a {
  color: var(--muted) !important;
  border-color: var(--line) !important;
}

.top-links a:hover,
.topbar a:hover {
  color: var(--text) !important;
}

.card,
.section,
.demo-section,
.panel {
  background: var(--card) !important;
  border-color: var(--line) !important;
  color: var(--text) !important;
}

.code-block,
pre,
code,
.output,
.current-url,
.event-log,
.result-card,
.log {
  background: var(--code-bg) !important;
  color: var(--code-text) !important;
  border-color: var(--line) !important;
}

input,
select,
textarea {
  background: var(--surface) !important;
  color: var(--text) !important;
  border-color: var(--line) !important;
}

button {
  background: linear-gradient(120deg, var(--accent), #ff6a00) !important;
  color: #111 !important;
}

footer {
  color: var(--muted) !important;
}

footer a {
  color: var(--text) !important;
}</code></pre> </div> <div> <div class="code-label">JS (js)</div> <pre class="code-panel"><code>import { debounce, throttle, once, rateLimit } from &quot;https://esm.sh/@manufosela/debounce-throttle&quot;;

    // Helper to format time
    function formatTime() {
      const now = new Date();
      return `${now.getMinutes().toString().padStart(2, &#39;0&#39;)}:${now.getSeconds().toString().padStart(2, &#39;0&#39;)}.${now.getMilliseconds().toString().padStart(3, &#39;0&#39;)}`;
    }

    // Helper to add log entry
    function addLog(logId, message, type = &#39;raw&#39;) {
      const log = document.getElementById(logId);
      const entry = document.createElement(&#39;div&#39;);
      entry.innerHTML = `&lt;span class=&quot;time&quot;&gt;[${formatTime()}]&lt;/span&gt; &lt;span class=&quot;${type}&quot;&gt;${message}&lt;/span&gt;`;
      log.appendChild(entry);
      log.scrollTop = log.scrollHeight;
    }

    // ============ Debounce Demo ============
    let debounceRawCount = 0;
    let debounceProcessedCount = 0;
    let currentDebouncedSearch;

    function createDebouncedSearch(delay) {
      return debounce((value) =&gt; {
        debounceProcessedCount++;
        document.getElementById(&#39;debounceProcessedCount&#39;).textContent = debounceProcessedCount;
        addLog(&#39;debounceLog&#39;, `API call with: &quot;${value}&quot;`, &#39;processed&#39;);
        updateDebounceSavings();
      }, delay);
    }

    currentDebouncedSearch = createDebouncedSearch(300);

    document.getElementById(&#39;searchInput&#39;).addEventListener(&#39;input&#39;, (e) =&gt; {
      debounceRawCount++;
      document.getElementById(&#39;debounceRawCount&#39;).textContent = debounceRawCount;
      addLog(&#39;debounceLog&#39;, `Keystroke: &quot;${e.target.value}&quot;`, &#39;raw&#39;);
      currentDebouncedSearch(e.target.value);
      updateDebounceSavings();
    });

    document.getElementById(&#39;debounceDelay&#39;).addEventListener(&#39;input&#39;, (e) =&gt; {
      document.getElementById(&#39;debounceDelayValue&#39;).textContent = e.target.value;
      currentDebouncedSearch.cancel();
      currentDebouncedSearch = createDebouncedSearch(parseInt(e.target.value));
    });

    function updateDebounceSavings() {
      const savings = debounceRawCount &gt; 0
        ? Math.round((1 - debounceProcessedCount / debounceRawCount) * 100)
        : 0;
      document.getElementById(&#39;debounceSavings&#39;).textContent = `${savings}%`;
    }

    // ============ Throttle Demo ============
    let throttleRawCount = 0;
    let throttleProcessedCount = 0;
    let currentThrottledScroll;

    function createThrottledScroll(limit) {
      return throttle((scrollTop) =&gt; {
        throttleProcessedCount++;
        document.getElementById(&#39;throttleProcessedCount&#39;).textContent = throttleProcessedCount;
        addLog(&#39;throttleLog&#39;, `Handler: scrollTop = ${scrollTop}px`, &#39;processed&#39;);
        updateThrottleSavings();
      }, limit);
    }

    currentThrottledScroll = createThrottledScroll(100);

    document.getElementById(&#39;scrollArea&#39;).addEventListener(&#39;scroll&#39;, (e) =&gt; {
      throttleRawCount++;
      document.getElementById(&#39;throttleRawCount&#39;).textContent = throttleRawCount;
      addLog(&#39;throttleLog&#39;, `Scroll event: ${e.target.scrollTop}px`, &#39;raw&#39;);
      currentThrottledScroll(e.target.scrollTop);
      updateThrottleSavings();
    });

    document.getElementById(&#39;throttleLimit&#39;).addEventListener(&#39;input&#39;, (e) =&gt; {
      document.getElementById(&#39;throttleLimitValue&#39;).textContent = e.target.value;
      currentThrottledScroll.cancel();
      currentThrottledScroll = createThrottledScroll(parseInt(e.target.value));
    });

    function updateThrottleSavings() {
      const savings = throttleRawCount &gt; 0
        ? Math.round((1 - throttleProcessedCount / throttleRawCount) * 100)
        : 0;
      document.getElementById(&#39;throttleSavings&#39;).textContent = `${savings}%`;
    }

    // ============ Once Demo ============
    let createOnceFunction;

    function setupOnceDemo() {
      createOnceFunction = once(() =&gt; {
        addLog(&#39;onceLog&#39;, &#39;Function executed! This only happens once.&#39;, &#39;processed&#39;);
        return &#39;initialized&#39;;
      });
    }

    setupOnceDemo();

    document.getElementById(&#39;onceButton&#39;).addEventListener(&#39;click&#39;, () =&gt; {
      addLog(&#39;onceLog&#39;, &#39;Button clicked&#39;, &#39;raw&#39;);
      const result = createOnceFunction();
      if (result) {
        addLog(&#39;onceLog&#39;, `Returned: &quot;${result}&quot;`, &#39;processed&#39;);
      }
    });

    document.getElementById(&#39;onceReset&#39;).addEventListener(&#39;click&#39;, () =&gt; {
      document.getElementById(&#39;onceLog&#39;).innerHTML = &#39;&#39;;
      setupOnceDemo();
      addLog(&#39;onceLog&#39;, &#39;Demo reset&#39;, &#39;processed&#39;);
    });

    // ============ Rate Limit Demo ============
    let rateLimitAttempts = 0;
    let rateLimitSuccess = 0;
    let rateLimitBlocked = 0;

    const rateLimitedApi = rateLimit(() =&gt; {
      rateLimitSuccess++;
      document.getElementById(&#39;rateLimitSuccess&#39;).textContent = rateLimitSuccess;
      addLog(&#39;rateLimitLog&#39;, &#39;API call successful&#39;, &#39;processed&#39;);
      return true;
    }, 5, 3000);

    document.getElementById(&#39;rateLimitButton&#39;).addEventListener(&#39;click&#39;, () =&gt; {
      rateLimitAttempts++;
      document.getElementById(&#39;rateLimitAttempts&#39;).textContent = rateLimitAttempts;
      addLog(&#39;rateLimitLog&#39;, &#39;Attempting API call...&#39;, &#39;raw&#39;);

      const result = rateLimitedApi();
      if (result === undefined) {
        rateLimitBlocked++;
        document.getElementById(&#39;rateLimitBlocked&#39;).textContent = rateLimitBlocked;
        addLog(&#39;rateLimitLog&#39;, &#39;BLOCKED - Rate limit exceeded (5 per 3s)&#39;, &#39;raw&#39;);
      }
    });
  

class DemoThemeToggle extends HTMLElement {
  constructor() {
    super();
    this.attachShadow({ mode: &#39;open&#39; });
    this.handleClick = this.handleClick.bind(this);
  }

  connectedCallback() {
    const saved = localStorage.getItem(&#39;utils-demo-theme&#39;);
    document.documentElement.classList.remove(&#39;dark&#39;);
    document.documentElement.classList.toggle(&#39;light&#39;, saved === &#39;light&#39;);

    this.render();
  }

  render() {
    const isLight = document.documentElement.classList.contains(&#39;light&#39;);
    this.shadowRoot.innerHTML = `
      &lt;style&gt;
        :host {
          display: inline-flex;
        }
        .toggle {
          display: inline-flex;
          align-items: center;
          border: 1px solid var(--line);
          border-radius: 999px;
          overflow: hidden;
          background: var(--surface);
        }
        button {
          border: none;
          background: transparent;
          color: var(--muted);
          padding: 6px 12px;
          font-size: 0.8rem;
          cursor: pointer;
          font-family: &quot;Space Grotesk&quot;, &quot;Trebuchet MS&quot;, Arial, sans-serif;
        }
        button.active {
          background: linear-gradient(120deg, var(--accent), #ff6a00);
          color: #111;
          font-weight: 600;
        }
      &lt;/style&gt;
      &lt;div class=&quot;toggle&quot; role=&quot;group&quot; aria-label=&quot;Theme toggle&quot;&gt;
        &lt;button class=&quot;${isLight ? &#39;active&#39; : &#39;&#39;}&quot; data-theme=&quot;light&quot;&gt;Light&lt;/button&gt;
        &lt;button class=&quot;${isLight ? &#39;&#39; : &#39;active&#39;}&quot; data-theme=&quot;dark&quot;&gt;Dark&lt;/button&gt;
      &lt;/div&gt;
    `;

    this.shadowRoot.querySelectorAll(&#39;button&#39;).forEach((btn) =&gt; {
      btn.addEventListener(&#39;click&#39;, this.handleClick);
    });
  }

  handleClick(event) {
    const theme = event.currentTarget.dataset.theme;
    const isLight = theme === &#39;light&#39;;
    document.documentElement.classList.toggle(&#39;light&#39;, isLight);
    document.documentElement.classList.remove(&#39;dark&#39;);
    localStorage.setItem(&#39;utils-demo-theme&#39;, isLight ? &#39;light&#39; : &#39;dark&#39;);
    this.render();
  }
}

customElements.define(&#39;demo-theme-toggle&#39;, DemoThemeToggle);</code></pre> </div> </details> </div>  </div> </main> <footer> <div class="container"> <p>Built by manufosela. Lightweight, accessible, and standards-first web components.</p> </div> </footer> </body></html>