<button class="theme-toggle" type="button" data-theme-toggle>Light mode</button>

<script type="module">
  const root = document.documentElement;
  const toggle = document.querySelector('[data-theme-toggle]');
  const stored = localStorage.getItem('theme');

  if (stored === 'light') {
    root.classList.add('light');
  }

  const updateLabel = () => {
    const isLight = root.classList.contains('light');
    toggle.textContent = isLight ? 'Dark mode' : 'Light mode';
  };

  updateLabel();

  toggle.addEventListener('click', () => {
    root.classList.toggle('light');
    localStorage.setItem('theme', root.classList.contains('light') ? 'light' : 'dark');
    updateLabel();
  });
</script>
